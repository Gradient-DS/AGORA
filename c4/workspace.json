{
  "configuration" : {
    "scope" : "SoftwareSystem"
  },
  "description" : "Description",
  "documentation" : { },
  "id" : 1,
  "lastModifiedAgent" : "structurizr-ui",
  "lastModifiedDate" : "2025-12-01T20:47:26Z",
  "model" : {
    "people" : [ {
      "description" : "Food safety inspector using AGORA for daily inspection work",
      "id" : "1",
      "location" : "Unspecified",
      "name" : "NVWA Inspecteur",
      "properties" : {
        "structurizr.dsl.identifier" : "inspector"
      },
      "relationships" : [ {
        "description" : "uses for inspections",
        "destinationId" : "2",
        "id" : "113",
        "sourceId" : "1",
        "tags" : "Relationship",
        "technology" : "HTTPS/WebSocket"
      } ],
      "tags" : "Element,Person"
    } ],
    "softwareSystems" : [ {
      "containers" : [ {
        "components" : [ {
          "description" : "ChatInterface, ChatMessageList, ChatInput, ChatMessage, ToolCallCard, LoadingIndicator",
          "documentation" : { },
          "id" : "4",
          "name" : "[Shared] Chat Components",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.hai.chatcomponents"
          },
          "relationships" : [ {
            "description" : "reads/writes",
            "destinationId" : "7",
            "id" : "10",
            "sourceId" : "4",
            "tags" : "Relationship",
            "technology" : "Zustand selectors"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "ApprovalDialog for human-in-the-loop tool approval workflow",
          "documentation" : { },
          "id" : "5",
          "name" : "[Shared] Approval Dialog",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.hai.approvaldialog"
          },
          "relationships" : [ {
            "description" : "reads/writes",
            "destinationId" : "7",
            "id" : "11",
            "sourceId" : "5",
            "tags" : "Relationship",
            "technology" : "Zustand selectors"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Tool call visualization and debugging interface",
          "documentation" : { },
          "id" : "6",
          "name" : "[Shared] Debug Panel",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.hai.debugpanel"
          },
          "relationships" : [ {
            "description" : "reads",
            "destinationId" : "7",
            "id" : "12",
            "sourceId" : "6",
            "tags" : "Relationship",
            "technology" : "Zustand selectors"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Client stores: useMessageStore, useSessionStore, useConnectionStore, useApprovalStore, useAgentStore, useToolCallStore",
          "documentation" : { },
          "id" : "7",
          "name" : "[Shared] State Management",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.hai.statemanagement"
          },
          "relationships" : [ {
            "description" : "dispatches messages",
            "destinationId" : "8",
            "id" : "13",
            "sourceId" : "7",
            "tags" : "Relationship",
            "technology" : "TypeScript"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "AG-UI Protocol WebSocket client for real-time bidirectional communication",
          "documentation" : { },
          "id" : "8",
          "name" : "[Shared] WebSocket Client",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.hai.websocketclient"
          },
          "relationships" : [ {
            "description" : "AG-UI Protocol",
            "destinationId" : "14",
            "id" : "84",
            "sourceId" : "8",
            "tags" : "Relationship",
            "technology" : "WebSocket"
          }, {
            "description" : "AG-UI Protocol",
            "destinationId" : "16",
            "id" : "101",
            "sourceId" : "8",
            "tags" : "Relationship",
            "technology" : "WebSocket"
          }, {
            "description" : "AG-UI Protocol",
            "destinationId" : "15",
            "id" : "102",
            "linkedRelationshipId" : "101",
            "sourceId" : "8",
            "technology" : "WebSocket"
          }, {
            "description" : "AG-UI Protocol",
            "destinationId" : "42",
            "id" : "105",
            "sourceId" : "8",
            "tags" : "Relationship",
            "technology" : "WebSocket"
          }, {
            "description" : "AG-UI Protocol",
            "destinationId" : "41",
            "id" : "106",
            "linkedRelationshipId" : "105",
            "sourceId" : "8",
            "technology" : "WebSocket"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "[NOT IMPLEMENTED] Speech-to-text and text-to-speech interface",
          "documentation" : { },
          "id" : "9",
          "name" : "[Shared] Voice Interface",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.hai.voiceinterface"
          },
          "tags" : "Element,Component,NotImplemented,Shared"
        } ],
        "description" : "[Shared] Web-based user interface for inspector interactions via text",
        "documentation" : { },
        "id" : "3",
        "name" : "Human Agent Interface (HAI)",
        "properties" : {
          "structurizr.dsl.identifier" : "agora.hai"
        },
        "relationships" : [ {
          "description" : "AG-UI Protocol",
          "destinationId" : "14",
          "id" : "80",
          "sourceId" : "3",
          "tags" : "Relationship",
          "technology" : "WebSocket/JSON :8001"
        }, {
          "description" : "AG-UI Protocol",
          "destinationId" : "16",
          "id" : "103",
          "linkedRelationshipId" : "101",
          "sourceId" : "3",
          "technology" : "WebSocket"
        }, {
          "description" : "AG-UI Protocol",
          "destinationId" : "15",
          "id" : "104",
          "linkedRelationshipId" : "101",
          "sourceId" : "3",
          "technology" : "WebSocket"
        }, {
          "description" : "AG-UI Protocol",
          "destinationId" : "42",
          "id" : "107",
          "linkedRelationshipId" : "105",
          "sourceId" : "3",
          "technology" : "WebSocket"
        }, {
          "description" : "AG-UI Protocol",
          "destinationId" : "41",
          "id" : "108",
          "linkedRelationshipId" : "105",
          "sourceId" : "3",
          "technology" : "WebSocket"
        } ],
        "tags" : "Element,Container,Frontend,Shared",
        "technology" : "React SPA"
      }, {
        "description" : "Central orchestration for multi-agent coordination. See C3 diagrams for implementation-specific details.",
        "documentation" : { },
        "id" : "14",
        "name" : "Orchestrator [OpenAI/OpenSource]",
        "properties" : {
          "structurizr.dsl.identifier" : "agora.orchestrator"
        },
        "relationships" : [ {
          "description" : "MCP Protocol",
          "destinationId" : "71",
          "id" : "81",
          "sourceId" : "14",
          "tags" : "Relationship",
          "technology" : "HTTP/SSE Streamable"
        }, {
          "description" : "[NOT CONNECTED]",
          "destinationId" : "77",
          "id" : "82",
          "sourceId" : "14",
          "tags" : "Relationship",
          "technology" : "OpenTelemetry OTLP"
        }, {
          "description" : "[NOT CONNECTED]",
          "destinationId" : "78",
          "id" : "83",
          "sourceId" : "14",
          "tags" : "Relationship",
          "technology" : "Langfuse SDK"
        }, {
          "description" : "MCP",
          "destinationId" : "72",
          "id" : "109",
          "sourceId" : "14",
          "tags" : "Relationship",
          "technology" : "HTTP POST /mcp"
        }, {
          "description" : "MCP",
          "destinationId" : "73",
          "id" : "110",
          "sourceId" : "14",
          "tags" : "Relationship",
          "technology" : "HTTP POST /mcp"
        }, {
          "description" : "MCP",
          "destinationId" : "74",
          "id" : "111",
          "sourceId" : "14",
          "tags" : "Relationship",
          "technology" : "HTTP POST /mcp"
        } ],
        "tags" : "Element,Container,Backend",
        "technology" : "Python"
      }, {
        "components" : [ {
          "description" : "HTTP server with WebSocket support at /ws endpoint",
          "documentation" : { },
          "group" : "API Layer [Shared]",
          "id" : "16",
          "name" : "[Shared] FastAPI Server",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaifastapiserver"
          },
          "relationships" : [ {
            "description" : "routes WebSocket",
            "destinationId" : "17",
            "id" : "30",
            "sourceId" : "16",
            "tags" : "Relationship",
            "technology" : "WebSocket"
          }, {
            "description" : "routes HTTP",
            "destinationId" : "18",
            "id" : "31",
            "sourceId" : "16",
            "tags" : "Relationship",
            "technology" : "HTTP/REST"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Processes AG-UI Protocol events: RUN_STARTED/FINISHED, TEXT_MESSAGE_*, TOOL_CALL_*, STATE_SNAPSHOT, CUSTOM (approval)",
          "documentation" : { },
          "group" : "API Layer [Shared]",
          "id" : "17",
          "name" : "[Shared] AG-UI Protocol Handler",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaiaguihandler"
          },
          "relationships" : [ {
            "description" : "processes messages",
            "destinationId" : "19",
            "id" : "32",
            "sourceId" : "17",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "/health, /agents, /sessions/{id}/history endpoints",
          "documentation" : { },
          "group" : "API Layer [Shared]",
          "id" : "18",
          "name" : "[Shared] REST Endpoints",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oairestendpoints"
          },
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Main message processing with approval flow management using stream callbacks",
          "documentation" : { },
          "group" : "Pipelines Layer [Shared]",
          "id" : "19",
          "name" : "[Shared] Orchestrator Pipeline",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaiorchestratorpipeline"
          },
          "relationships" : [ {
            "description" : "runs agents",
            "destinationId" : "22",
            "id" : "33",
            "sourceId" : "19",
            "tags" : "Relationship"
          }, {
            "description" : "validates I/O",
            "destinationId" : "20",
            "id" : "34",
            "sourceId" : "19",
            "tags" : "Relationship"
          }, {
            "description" : "checks approval",
            "destinationId" : "24",
            "id" : "35",
            "sourceId" : "19",
            "tags" : "Relationship"
          }, {
            "description" : "logs events",
            "destinationId" : "27",
            "id" : "40",
            "sourceId" : "19",
            "tags" : "Relationship",
            "technology" : "OpenTelemetry"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Input validation, output filtering, blocked patterns detection",
          "documentation" : { },
          "group" : "Pipelines Layer [Shared]",
          "id" : "20",
          "name" : "[Shared] Moderator",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaimoderator"
          },
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "SDK Agent instances with instructions and handoff configuration",
          "documentation" : { },
          "group" : "Core Layer [OpenAI]",
          "id" : "21",
          "name" : "[OpenAI] Agent Definitions",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaiagentdefinitions"
          },
          "relationships" : [ {
            "description" : "configures tools",
            "destinationId" : "26",
            "id" : "39",
            "sourceId" : "21",
            "tags" : "Relationship",
            "technology" : "MCP config"
          } ],
          "tags" : "Element,Component,OpenAI"
        }, {
          "description" : "Runner.run_streamed() for streaming responses with tool callbacks",
          "documentation" : { },
          "group" : "Core Layer [OpenAI]",
          "id" : "22",
          "name" : "[OpenAI] Agent Executor",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaiagentexecutor"
          },
          "relationships" : [ {
            "description" : "gets agents",
            "destinationId" : "21",
            "id" : "36",
            "sourceId" : "22",
            "tags" : "Relationship"
          }, {
            "description" : "handles handoffs",
            "destinationId" : "23",
            "id" : "37",
            "sourceId" : "22",
            "tags" : "Relationship"
          }, {
            "description" : "persists state",
            "destinationId" : "25",
            "id" : "38",
            "sourceId" : "22",
            "tags" : "Relationship",
            "technology" : "SQLite"
          } ],
          "tags" : "Element,Component,OpenAI"
        }, {
          "description" : "Built-in SDK handoffs via agent.handoffs list - automatic context transfer",
          "documentation" : { },
          "group" : "Core Layer [OpenAI]",
          "id" : "23",
          "name" : "[OpenAI] Handoff Logic",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaihandofflogic"
          },
          "tags" : "Element,Component,OpenAI"
        }, {
          "description" : "Human-in-loop rules for high-risk tools",
          "documentation" : { },
          "group" : "Core Layer [OpenAI]",
          "id" : "24",
          "name" : "[Shared] Approval Logic",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaiapprovallogic"
          },
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "SDK SQLiteSession for conversation history (sessions.db)",
          "documentation" : { },
          "group" : "Core Layer [OpenAI]",
          "id" : "25",
          "name" : "[OpenAI] Session Persistence",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaisessionpersistence"
          },
          "tags" : "Element,Component,OpenAI"
        }, {
          "description" : "Native OpenAI SDK MCP integration with per-agent tool scoping via AGENT_MCP_MAPPING",
          "documentation" : { },
          "group" : "Adapters Layer",
          "id" : "26",
          "name" : "[OpenAI] MCP Adapter",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaimcpadapter"
          },
          "relationships" : [ {
            "description" : "MCP",
            "destinationId" : "72",
            "id" : "85",
            "sourceId" : "26",
            "tags" : "Relationship",
            "technology" : "HTTP POST /mcp"
          }, {
            "description" : "MCP",
            "destinationId" : "71",
            "id" : "86",
            "linkedRelationshipId" : "85",
            "sourceId" : "26",
            "technology" : "HTTP POST /mcp"
          }, {
            "description" : "MCP",
            "destinationId" : "73",
            "id" : "89",
            "sourceId" : "26",
            "tags" : "Relationship",
            "technology" : "HTTP POST /mcp"
          }, {
            "description" : "MCP",
            "destinationId" : "74",
            "id" : "91",
            "sourceId" : "26",
            "tags" : "Relationship",
            "technology" : "HTTP POST /mcp"
          } ],
          "tags" : "Element,Component,OpenAI"
        }, {
          "description" : "OpenTelemetry-based audit logging of messages and decisions",
          "documentation" : { },
          "group" : "Adapters Layer",
          "id" : "27",
          "name" : "[Shared] Audit Logger",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaiauditlogger"
          },
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "[NOT IMPLEMENTED] API rate limiting per user/IP",
          "documentation" : { },
          "id" : "28",
          "name" : "[Shared] Rate Limiter",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oairatelimiter"
          },
          "tags" : "Element,Component,NotImplemented,Shared"
        }, {
          "description" : "[NOT IMPLEMENTED] Circuit breaker pattern for MCP server calls",
          "documentation" : { },
          "id" : "29",
          "name" : "[Shared] Circuit Breaker",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratoropenai.oaicircuitbreaker"
          },
          "tags" : "Element,Component,NotImplemented,Shared"
        } ],
        "description" : "Central orchestration using OpenAI Agents SDK with native handoffs and MCP support.",
        "documentation" : { },
        "id" : "15",
        "name" : "Orchestrator [OpenAI]",
        "properties" : {
          "structurizr.dsl.identifier" : "agora.orchestratoropenai"
        },
        "relationships" : [ {
          "description" : "MCP",
          "destinationId" : "72",
          "id" : "87",
          "linkedRelationshipId" : "85",
          "sourceId" : "15",
          "technology" : "HTTP POST /mcp"
        }, {
          "description" : "MCP",
          "destinationId" : "71",
          "id" : "88",
          "linkedRelationshipId" : "85",
          "sourceId" : "15",
          "technology" : "HTTP POST /mcp"
        }, {
          "description" : "MCP",
          "destinationId" : "73",
          "id" : "90",
          "linkedRelationshipId" : "89",
          "sourceId" : "15",
          "technology" : "HTTP POST /mcp"
        }, {
          "description" : "MCP",
          "destinationId" : "74",
          "id" : "92",
          "linkedRelationshipId" : "91",
          "sourceId" : "15",
          "technology" : "HTTP POST /mcp"
        } ],
        "tags" : "Element,Container,Backend,OpenAI",
        "technology" : "Python"
      }, {
        "components" : [ {
          "description" : "HTTP server with WebSocket support at /ws endpoint",
          "documentation" : { },
          "group" : "API Layer [Shared]",
          "id" : "42",
          "name" : "[Shared] FastAPI Server",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgfastapiserver"
          },
          "relationships" : [ {
            "description" : "routes WebSocket",
            "destinationId" : "43",
            "id" : "58",
            "sourceId" : "42",
            "tags" : "Relationship",
            "technology" : "WebSocket"
          }, {
            "description" : "routes HTTP",
            "destinationId" : "44",
            "id" : "59",
            "sourceId" : "42",
            "tags" : "Relationship",
            "technology" : "HTTP/REST"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Processes AG-UI Protocol events: RUN_STARTED/FINISHED, TEXT_MESSAGE_*, TOOL_CALL_*, STATE_SNAPSHOT, CUSTOM (approval)",
          "documentation" : { },
          "group" : "API Layer [Shared]",
          "id" : "43",
          "name" : "[Shared] AG-UI Protocol Handler",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgaguihandler"
          },
          "relationships" : [ {
            "description" : "processes messages",
            "destinationId" : "45",
            "id" : "60",
            "sourceId" : "43",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "/health, /agents, /sessions/{id}/history endpoints",
          "documentation" : { },
          "group" : "API Layer [Shared]",
          "id" : "44",
          "name" : "[Shared] REST Endpoints",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgrestendpoints"
          },
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Main message processing with approval flow management using astream_events",
          "documentation" : { },
          "group" : "Pipelines Layer [Shared]",
          "id" : "45",
          "name" : "[Shared] Orchestrator Pipeline",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgorchestratorpipeline"
          },
          "relationships" : [ {
            "description" : "invokes graph",
            "destinationId" : "48",
            "id" : "61",
            "sourceId" : "45",
            "tags" : "Relationship"
          }, {
            "description" : "validates I/O",
            "destinationId" : "46",
            "id" : "62",
            "sourceId" : "45",
            "tags" : "Relationship"
          }, {
            "description" : "checks approval",
            "destinationId" : "52",
            "id" : "63",
            "sourceId" : "45",
            "tags" : "Relationship"
          }, {
            "description" : "logs events",
            "destinationId" : "55",
            "id" : "70",
            "sourceId" : "45",
            "tags" : "Relationship",
            "technology" : "OpenTelemetry"
          } ],
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Input validation, output filtering, blocked patterns detection",
          "documentation" : { },
          "group" : "Pipelines Layer [Shared]",
          "id" : "46",
          "name" : "[Shared] Moderator",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgmoderator"
          },
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Async functions (general_agent, regulation_agent, etc.) invoking ChatOpenAI with bound tools",
          "documentation" : { },
          "group" : "Core Layer [OpenSource]",
          "id" : "47",
          "name" : "[OpenSource] Agent Definitions",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgagentdefinitions"
          },
          "relationships" : [ {
            "description" : "binds tools",
            "destinationId" : "54",
            "id" : "69",
            "sourceId" : "47",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,OpenSource"
        }, {
          "description" : "StateGraph with AgentState TypedDict, astream_events() for streaming",
          "documentation" : { },
          "group" : "Core Layer [OpenSource]",
          "id" : "48",
          "name" : "[OpenSource] Agent Executor",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgagentexecutor"
          },
          "relationships" : [ {
            "description" : "executes tools",
            "destinationId" : "49",
            "id" : "64",
            "sourceId" : "48",
            "tags" : "Relationship"
          }, {
            "description" : "determines next",
            "destinationId" : "51",
            "id" : "65",
            "sourceId" : "48",
            "tags" : "Relationship"
          }, {
            "description" : "persists state",
            "destinationId" : "53",
            "id" : "68",
            "sourceId" : "48",
            "tags" : "Relationship",
            "technology" : "SQLite"
          } ],
          "tags" : "Element,Component,OpenSource"
        }, {
          "description" : "Prebuilt ToolNode handles all tool calls including handoffs",
          "documentation" : { },
          "group" : "Core Layer [OpenSource]",
          "id" : "49",
          "name" : "[OpenSource] Tool Executor",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgtoolexecutor"
          },
          "relationships" : [ {
            "description" : "executes handoffs",
            "destinationId" : "50",
            "id" : "66",
            "sourceId" : "49",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,OpenSource"
        }, {
          "description" : "Explicit transfer_to_* tools that must go through ToolNode first",
          "documentation" : { },
          "group" : "Core Layer [OpenSource]",
          "id" : "50",
          "name" : "[OpenSource] Handoff Logic",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lghandofflogic"
          },
          "tags" : "Element,Component,OpenSource"
        }, {
          "description" : "route_from_agent() → 'tools'|'end', route_after_tools() → detects handoff → target agent",
          "documentation" : { },
          "group" : "Core Layer [OpenSource]",
          "id" : "51",
          "name" : "[OpenSource] Routing Logic",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgroutinglogic"
          },
          "relationships" : [ {
            "description" : "routes to agent",
            "destinationId" : "47",
            "id" : "67",
            "sourceId" : "51",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,OpenSource"
        }, {
          "description" : "Human-in-loop rules for high-risk tools",
          "documentation" : { },
          "group" : "Core Layer [OpenSource]",
          "id" : "52",
          "name" : "[Shared] Approval Logic",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgapprovallogic"
          },
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "LangGraph checkpointer for conversation state (sessions.db)",
          "documentation" : { },
          "group" : "Core Layer [OpenSource]",
          "id" : "53",
          "name" : "[OpenSource] Session Persistence",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgsessionpersistence"
          },
          "tags" : "Element,Component,OpenSource"
        }, {
          "description" : "langchain-mcp-adapters for MCP server connections with per-agent tool scoping",
          "documentation" : { },
          "group" : "Adapters Layer",
          "id" : "54",
          "name" : "[OpenSource] MCP Adapter",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgmcpadapter"
          },
          "relationships" : [ {
            "description" : "MCP",
            "destinationId" : "72",
            "id" : "93",
            "sourceId" : "54",
            "tags" : "Relationship",
            "technology" : "HTTP POST /mcp"
          }, {
            "description" : "MCP",
            "destinationId" : "71",
            "id" : "94",
            "linkedRelationshipId" : "93",
            "sourceId" : "54",
            "technology" : "HTTP POST /mcp"
          }, {
            "description" : "MCP",
            "destinationId" : "73",
            "id" : "97",
            "sourceId" : "54",
            "tags" : "Relationship",
            "technology" : "HTTP POST /mcp"
          }, {
            "description" : "MCP",
            "destinationId" : "74",
            "id" : "99",
            "sourceId" : "54",
            "tags" : "Relationship",
            "technology" : "HTTP POST /mcp"
          } ],
          "tags" : "Element,Component,OpenSource"
        }, {
          "description" : "OpenTelemetry-based audit logging of messages and decisions",
          "documentation" : { },
          "group" : "Adapters Layer",
          "id" : "55",
          "name" : "[Shared] Audit Logger",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgauditlogger"
          },
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "[NOT IMPLEMENTED] API rate limiting per user/IP",
          "documentation" : { },
          "id" : "56",
          "name" : "[Shared] Rate Limiter",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgratelimiter"
          },
          "tags" : "Element,Component,NotImplemented,Shared"
        }, {
          "description" : "[NOT IMPLEMENTED] Circuit breaker pattern for MCP server calls",
          "documentation" : { },
          "id" : "57",
          "name" : "[Shared] Circuit Breaker",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.orchestratorlanggraph.lgcircuitbreaker"
          },
          "tags" : "Element,Component,NotImplemented,Shared"
        } ],
        "description" : "Central orchestration using LangGraph StateGraph (LLM provider-agnostic).",
        "documentation" : { },
        "id" : "41",
        "name" : "Orchestrator [OpenSource]",
        "properties" : {
          "structurizr.dsl.identifier" : "agora.orchestratorlanggraph"
        },
        "relationships" : [ {
          "description" : "MCP",
          "destinationId" : "72",
          "id" : "95",
          "linkedRelationshipId" : "93",
          "sourceId" : "41",
          "technology" : "HTTP POST /mcp"
        }, {
          "description" : "MCP",
          "destinationId" : "71",
          "id" : "96",
          "linkedRelationshipId" : "93",
          "sourceId" : "41",
          "technology" : "HTTP POST /mcp"
        }, {
          "description" : "MCP",
          "destinationId" : "73",
          "id" : "98",
          "linkedRelationshipId" : "97",
          "sourceId" : "41",
          "technology" : "HTTP POST /mcp"
        }, {
          "description" : "MCP",
          "destinationId" : "74",
          "id" : "100",
          "linkedRelationshipId" : "99",
          "sourceId" : "41",
          "technology" : "HTTP POST /mcp"
        } ],
        "tags" : "Element,Container,Backend,OpenSource",
        "technology" : "Python"
      }, {
        "components" : [ {
          "description" : "Tools: search_regulations, get_regulation_context, lookup_regulation_articles, analyze_document",
          "documentation" : { },
          "id" : "72",
          "name" : "[Shared] Regulation Agent",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.mcpservers.regulationserver"
          },
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Tools: start_inspection_report, extract_inspection_data, verify_inspection_data, generate_final_report",
          "documentation" : { },
          "id" : "73",
          "name" : "[Shared] Reporting Agent",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.mcpservers.reportingserver"
          },
          "tags" : "Element,Component,Shared"
        }, {
          "description" : "Tools: check_company_exists, get_inspection_history, get_company_violations, check_repeat_violation",
          "documentation" : { },
          "id" : "74",
          "name" : "[Shared] History Agent",
          "properties" : {
            "structurizr.dsl.identifier" : "agora.mcpservers.historyserver"
          },
          "tags" : "Element,Component,Shared"
        } ],
        "description" : "[Shared] Domain-specific agent capabilities exposed via MCP Protocol. Extensible by adding new MCP servers.",
        "documentation" : { },
        "id" : "71",
        "name" : "MCP Agent Servers",
        "properties" : {
          "structurizr.dsl.identifier" : "agora.mcpservers"
        },
        "tags" : "Element,Container,Backend,Extensible,Shared",
        "technology" : "Docker"
      }, {
        "description" : "[Shared] [NOT IMPLEMENTED] User profiles, preferences, roles (RBAC)",
        "documentation" : { },
        "id" : "75",
        "name" : "User Profile",
        "properties" : {
          "structurizr.dsl.identifier" : "agora.userprofile"
        },
        "tags" : "Element,Container,Database,NotImplemented,Shared",
        "technology" : "Database"
      }, {
        "description" : "[Shared] [NOT IMPLEMENTED] Long-term memory, cross-session context",
        "documentation" : { },
        "id" : "76",
        "name" : "Memory Service",
        "properties" : {
          "structurizr.dsl.identifier" : "agora.memory"
        },
        "tags" : "Element,Container,Backend,NotImplemented,Shared",
        "technology" : "Service"
      }, {
        "description" : "[Shared] [NOT IMPLEMENTED] Monitoring, logging, tracing dashboards",
        "documentation" : { },
        "id" : "77",
        "name" : "Visibility Stack",
        "properties" : {
          "structurizr.dsl.identifier" : "agora.visibility"
        },
        "tags" : "Element,Container,Observability,NotImplemented,Shared",
        "technology" : "Observability"
      }, {
        "description" : "[Shared] [NOT IMPLEMENTED] LLM tracing, quality evaluations, cost tracking",
        "documentation" : { },
        "id" : "78",
        "name" : "Evaluation Service",
        "properties" : {
          "structurizr.dsl.identifier" : "agora.evalservice"
        },
        "tags" : "Element,Container,Observability,NotImplemented,Shared",
        "technology" : "Observability"
      }, {
        "description" : "[Shared] [NOT IMPLEMENTED] OAuth2/OIDC authentication, RBAC",
        "documentation" : { },
        "id" : "79",
        "name" : "Auth Service",
        "properties" : {
          "structurizr.dsl.identifier" : "agora.authservice"
        },
        "tags" : "Element,Container,Security,NotImplemented,Shared",
        "technology" : "Security"
      } ],
      "description" : "Multi-agent compliance platform for NVWA inspectors",
      "documentation" : { },
      "id" : "2",
      "location" : "Unspecified",
      "name" : "AGORA",
      "properties" : {
        "structurizr.dsl.identifier" : "agora"
      },
      "relationships" : [ {
        "description" : "orchestrates agents",
        "destinationId" : "112",
        "id" : "114",
        "sourceId" : "2",
        "tags" : "Relationship",
        "technology" : "MCP Protocol"
      } ],
      "tags" : "Element,Software System"
    }, {
      "description" : "[Shared] Extensible domain agents via Model Context Protocol. Add new capabilities by deploying MCP servers.",
      "documentation" : { },
      "id" : "112",
      "location" : "Unspecified",
      "name" : "MCP Agent Ecosystem",
      "properties" : {
        "structurizr.dsl.identifier" : "mcpecosystem"
      },
      "tags" : "Element,Software System,Extensible"
    } ]
  },
  "name" : "AGORA v1.0 — Multi-Agent Platform for NVWA",
  "properties" : {
    "structurizr.dsl" : "d29ya3NwYWNlICJBR09SQSB2MS4wIOKAlCBNdWx0aS1BZ2VudCBQbGF0Zm9ybSBmb3IgTlZXQSIgewogICFpZGVudGlmaWVycyBoaWVyYXJjaGljYWwKICAKICBtb2RlbCB7CiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICMgQUNUT1JTCiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGluc3BlY3RvciA9IHBlcnNvbiAiTlZXQSBJbnNwZWN0ZXVyIiAiRm9vZCBzYWZldHkgaW5zcGVjdG9yIHVzaW5nIEFHT1JBIGZvciBkYWlseSBpbnNwZWN0aW9uIHdvcmsiCiAgICAKICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgIyBBR09SQSBTWVNURU0KICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgYWdvcmEgPSBzb2Z0d2FyZVN5c3RlbSAiQUdPUkEiICJNdWx0aS1hZ2VudCBjb21wbGlhbmNlIHBsYXRmb3JtIGZvciBOVldBIGluc3BlY3RvcnMiIHsKICAgICAgCiAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgIyBIQUkgRlJPTlRFTkQgW1NoYXJlZF0KICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICBoYWkgPSBjb250YWluZXIgIkh1bWFuIEFnZW50IEludGVyZmFjZSAoSEFJKSIgIlJlYWN0ICsgVml0ZSArIFp1c3RhbmQgKyBUYWlsd2luZENTUyIgIlJlYWN0IFNQQSIgewogICAgICAgIGRlc2NyaXB0aW9uICJbU2hhcmVkXSBXZWItYmFzZWQgdXNlciBpbnRlcmZhY2UgZm9yIGluc3BlY3RvciBpbnRlcmFjdGlvbnMgdmlhIHRleHQiCiAgICAgICAgdGFncyAiRnJvbnRlbmQiICJTaGFyZWQiCiAgICAgICAgCiAgICAgICAgY2hhdENvbXBvbmVudHMgPSBjb21wb25lbnQgIltTaGFyZWRdIENoYXQgQ29tcG9uZW50cyIgIlJlYWN0IiB7CiAgICAgICAgICBkZXNjcmlwdGlvbiAiQ2hhdEludGVyZmFjZSwgQ2hhdE1lc3NhZ2VMaXN0LCBDaGF0SW5wdXQsIENoYXRNZXNzYWdlLCBUb29sQ2FsbENhcmQsIExvYWRpbmdJbmRpY2F0b3IiCiAgICAgICAgICB0YWdzICJTaGFyZWQiCiAgICAgICAgfQogICAgICAgIGFwcHJvdmFsRGlhbG9nID0gY29tcG9uZW50ICJbU2hhcmVkXSBBcHByb3ZhbCBEaWFsb2ciICJSZWFjdCIgewogICAgICAgICAgZGVzY3JpcHRpb24gIkFwcHJvdmFsRGlhbG9nIGZvciBodW1hbi1pbi10aGUtbG9vcCB0b29sIGFwcHJvdmFsIHdvcmtmbG93IgogICAgICAgICAgdGFncyAiU2hhcmVkIgogICAgICAgIH0KICAgICAgICBkZWJ1Z1BhbmVsID0gY29tcG9uZW50ICJbU2hhcmVkXSBEZWJ1ZyBQYW5lbCIgIlJlYWN0IiB7CiAgICAgICAgICBkZXNjcmlwdGlvbiAiVG9vbCBjYWxsIHZpc3VhbGl6YXRpb24gYW5kIGRlYnVnZ2luZyBpbnRlcmZhY2UiCiAgICAgICAgICB0YWdzICJTaGFyZWQiCiAgICAgICAgfQogICAgICAgIHN0YXRlTWFuYWdlbWVudCA9IGNvbXBvbmVudCAiW1NoYXJlZF0gU3RhdGUgTWFuYWdlbWVudCIgIlp1c3RhbmQiIHsKICAgICAgICAgIGRlc2NyaXB0aW9uICJDbGllbnQgc3RvcmVzOiB1c2VNZXNzYWdlU3RvcmUsIHVzZVNlc3Npb25TdG9yZSwgdXNlQ29ubmVjdGlvblN0b3JlLCB1c2VBcHByb3ZhbFN0b3JlLCB1c2VBZ2VudFN0b3JlLCB1c2VUb29sQ2FsbFN0b3JlIgogICAgICAgICAgdGFncyAiU2hhcmVkIgogICAgICAgIH0KICAgICAgICB3ZWJzb2NrZXRDbGllbnQgPSBjb21wb25lbnQgIltTaGFyZWRdIFdlYlNvY2tldCBDbGllbnQiICJUeXBlU2NyaXB0IiB7CiAgICAgICAgICBkZXNjcmlwdGlvbiAiQUctVUkgUHJvdG9jb2wgV2ViU29ja2V0IGNsaWVudCBmb3IgcmVhbC10aW1lIGJpZGlyZWN0aW9uYWwgY29tbXVuaWNhdGlvbiIKICAgICAgICAgIHRhZ3MgIlNoYXJlZCIKICAgICAgICB9CiAgICAgICAgdm9pY2VJbnRlcmZhY2UgPSBjb21wb25lbnQgIltTaGFyZWRdIFZvaWNlIEludGVyZmFjZSIgIlJlYWN0ICsgV2hpc3BlciArIEVsZXZlbkxhYnMiIHsKICAgICAgICAgIGRlc2NyaXB0aW9uICJbTk9UIElNUExFTUVOVEVEXSBTcGVlY2gtdG8tdGV4dCBhbmQgdGV4dC10by1zcGVlY2ggaW50ZXJmYWNlIgogICAgICAgICAgdGFncyAiTm90SW1wbGVtZW50ZWQiICJTaGFyZWQiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNoYXRDb21wb25lbnRzIC0+IHN0YXRlTWFuYWdlbWVudCAicmVhZHMvd3JpdGVzIiAiWnVzdGFuZCBzZWxlY3RvcnMiCiAgICAgICAgYXBwcm92YWxEaWFsb2cgLT4gc3RhdGVNYW5hZ2VtZW50ICJyZWFkcy93cml0ZXMiICJadXN0YW5kIHNlbGVjdG9ycyIKICAgICAgICBkZWJ1Z1BhbmVsIC0+IHN0YXRlTWFuYWdlbWVudCAicmVhZHMiICJadXN0YW5kIHNlbGVjdG9ycyIKICAgICAgICBzdGF0ZU1hbmFnZW1lbnQgLT4gd2Vic29ja2V0Q2xpZW50ICJkaXNwYXRjaGVzIG1lc3NhZ2VzIiAiVHlwZVNjcmlwdCIKICAgICAgfQogICAgICAKICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAjIE9SQ0hFU1RSQVRPUiAtIFVuaWZpZWQgKGZvciBDMiBhbmQgZXh0ZXJuYWwgYXBwZWFyYW5jZXMpCiAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgb3JjaGVzdHJhdG9yID0gY29udGFpbmVyICJPcmNoZXN0cmF0b3IgW09wZW5BSS9PcGVuU291cmNlXSIgIkZhc3RBUEkgKyBTUUxpdGUgKyBPcGVuQUkgU0RLIG9yIExhbmdHcmFwaCIgIlB5dGhvbiIgewogICAgICAgIGRlc2NyaXB0aW9uICJDZW50cmFsIG9yY2hlc3RyYXRpb24gZm9yIG11bHRpLWFnZW50IGNvb3JkaW5hdGlvbi4gU2VlIEMzIGRpYWdyYW1zIGZvciBpbXBsZW1lbnRhdGlvbi1zcGVjaWZpYyBkZXRhaWxzLiIKICAgICAgICB0YWdzICJCYWNrZW5kIgogICAgICB9CiAgICAgIAogICAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICMgT1JDSEVTVFJBVE9SIC0gT3BlbkFJIEFnZW50cyBTREsgKGZvciBDMyBkZXRhaWwgdmlldykKICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICBvcmNoZXN0cmF0b3JPcGVuQUkgPSBjb250YWluZXIgIk9yY2hlc3RyYXRvciBbT3BlbkFJXSIgIkZhc3RBUEkgKyBTUUxpdGUgKyBPcGVuQUkgQWdlbnRzIFNESyIgIlB5dGhvbiIgewogICAgICAgIGRlc2NyaXB0aW9uICJDZW50cmFsIG9yY2hlc3RyYXRpb24gdXNpbmcgT3BlbkFJIEFnZW50cyBTREsgd2l0aCBuYXRpdmUgaGFuZG9mZnMgYW5kIE1DUCBzdXBwb3J0LiIKICAgICAgICB0YWdzICJCYWNrZW5kIiAiT3BlbkFJIgogICAgICAgIAogICAgICAgIGdyb3VwICJBUEkgTGF5ZXIgW1NoYXJlZF0iIHsKICAgICAgICAgIG9haUZhc3RBcGlTZXJ2ZXIgPSBjb21wb25lbnQgIltTaGFyZWRdIEZhc3RBUEkgU2VydmVyIiAiRmFzdEFQSSArIFV2aWNvcm4iIHsKICAgICAgICAgICAgZGVzY3JpcHRpb24gIkhUVFAgc2VydmVyIHdpdGggV2ViU29ja2V0IHN1cHBvcnQgYXQgL3dzIGVuZHBvaW50IgogICAgICAgICAgICB0YWdzICJTaGFyZWQiCiAgICAgICAgICB9CiAgICAgICAgICBvYWlBZ1VpSGFuZGxlciA9IGNvbXBvbmVudCAiW1NoYXJlZF0gQUctVUkgUHJvdG9jb2wgSGFuZGxlciIgIlB5dGhvbiIgewogICAgICAgICAgICBkZXNjcmlwdGlvbiAiUHJvY2Vzc2VzIEFHLVVJIFByb3RvY29sIGV2ZW50czogUlVOX1NUQVJURUQvRklOSVNIRUQsIFRFWFRfTUVTU0FHRV8qLCBUT09MX0NBTExfKiwgU1RBVEVfU05BUFNIT1QsIENVU1RPTSAoYXBwcm92YWwpIgogICAgICAgICAgICB0YWdzICJTaGFyZWQiCiAgICAgICAgICB9CiAgICAgICAgICBvYWlSZXN0RW5kcG9pbnRzID0gY29tcG9uZW50ICJbU2hhcmVkXSBSRVNUIEVuZHBvaW50cyIgIkZhc3RBUEkiIHsKICAgICAgICAgICAgZGVzY3JpcHRpb24gIi9oZWFsdGgsIC9hZ2VudHMsIC9zZXNzaW9ucy97aWR9L2hpc3RvcnkgZW5kcG9pbnRzIgogICAgICAgICAgICB0YWdzICJTaGFyZWQiCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyb3VwICJQaXBlbGluZXMgTGF5ZXIgW1NoYXJlZF0iIHsKICAgICAgICAgIG9haU9yY2hlc3RyYXRvclBpcGVsaW5lID0gY29tcG9uZW50ICJbU2hhcmVkXSBPcmNoZXN0cmF0b3IgUGlwZWxpbmUiICJQeXRob24iIHsKICAgICAgICAgICAgZGVzY3JpcHRpb24gIk1haW4gbWVzc2FnZSBwcm9jZXNzaW5nIHdpdGggYXBwcm92YWwgZmxvdyBtYW5hZ2VtZW50IHVzaW5nIHN0cmVhbSBjYWxsYmFja3MiCiAgICAgICAgICAgIHRhZ3MgIlNoYXJlZCIKICAgICAgICAgIH0KICAgICAgICAgIG9haU1vZGVyYXRvciA9IGNvbXBvbmVudCAiW1NoYXJlZF0gTW9kZXJhdG9yIiAiUHl0aG9uIiB7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uICJJbnB1dCB2YWxpZGF0aW9uLCBvdXRwdXQgZmlsdGVyaW5nLCBibG9ja2VkIHBhdHRlcm5zIGRldGVjdGlvbiIKICAgICAgICAgICAgdGFncyAiU2hhcmVkIgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBncm91cCAiQ29yZSBMYXllciBbT3BlbkFJXSIgewogICAgICAgICAgb2FpQWdlbnREZWZpbml0aW9ucyA9IGNvbXBvbmVudCAiW09wZW5BSV0gQWdlbnQgRGVmaW5pdGlvbnMiICJhZ2VudHMuQWdlbnQiIHsKICAgICAgICAgICAgZGVzY3JpcHRpb24gIlNESyBBZ2VudCBpbnN0YW5jZXMgd2l0aCBpbnN0cnVjdGlvbnMgYW5kIGhhbmRvZmYgY29uZmlndXJhdGlvbiIKICAgICAgICAgICAgdGFncyAiT3BlbkFJIgogICAgICAgICAgfQogICAgICAgICAgb2FpQWdlbnRFeGVjdXRvciA9IGNvbXBvbmVudCAiW09wZW5BSV0gQWdlbnQgRXhlY3V0b3IiICJhZ2VudHMuUnVubmVyIiB7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uICJSdW5uZXIucnVuX3N0cmVhbWVkKCkgZm9yIHN0cmVhbWluZyByZXNwb25zZXMgd2l0aCB0b29sIGNhbGxiYWNrcyIKICAgICAgICAgICAgdGFncyAiT3BlbkFJIgogICAgICAgICAgfQogICAgICAgICAgb2FpSGFuZG9mZkxvZ2ljID0gY29tcG9uZW50ICJbT3BlbkFJXSBIYW5kb2ZmIExvZ2ljIiAiU0RLIGJ1aWx0LWluIiB7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uICJCdWlsdC1pbiBTREsgaGFuZG9mZnMgdmlhIGFnZW50LmhhbmRvZmZzIGxpc3QgLSBhdXRvbWF0aWMgY29udGV4dCB0cmFuc2ZlciIKICAgICAgICAgICAgdGFncyAiT3BlbkFJIgogICAgICAgICAgfQogICAgICAgICAgb2FpQXBwcm92YWxMb2dpYyA9IGNvbXBvbmVudCAiW1NoYXJlZF0gQXBwcm92YWwgTG9naWMiICJQeXRob24iIHsKICAgICAgICAgICAgZGVzY3JpcHRpb24gIkh1bWFuLWluLWxvb3AgcnVsZXMgZm9yIGhpZ2gtcmlzayB0b29scyIKICAgICAgICAgICAgdGFncyAiU2hhcmVkIgogICAgICAgICAgfQogICAgICAgICAgb2FpU2Vzc2lvblBlcnNpc3RlbmNlID0gY29tcG9uZW50ICJbT3BlbkFJXSBTZXNzaW9uIFBlcnNpc3RlbmNlIiAiYWdlbnRzLlNRTGl0ZVNlc3Npb24iIHsKICAgICAgICAgICAgZGVzY3JpcHRpb24gIlNESyBTUUxpdGVTZXNzaW9uIGZvciBjb252ZXJzYXRpb24gaGlzdG9yeSAoc2Vzc2lvbnMuZGIpIgogICAgICAgICAgICB0YWdzICJPcGVuQUkiCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyb3VwICJBZGFwdGVycyBMYXllciIgewogICAgICAgICAgb2FpTWNwQWRhcHRlciA9IGNvbXBvbmVudCAiW09wZW5BSV0gTUNQIEFkYXB0ZXIiICJNQ1BTZXJ2ZXJTdHJlYW1hYmxlSHR0cCIgewogICAgICAgICAgICBkZXNjcmlwdGlvbiAiTmF0aXZlIE9wZW5BSSBTREsgTUNQIGludGVncmF0aW9uIHdpdGggcGVyLWFnZW50IHRvb2wgc2NvcGluZyB2aWEgQUdFTlRfTUNQX01BUFBJTkciCiAgICAgICAgICAgIHRhZ3MgIk9wZW5BSSIKICAgICAgICAgIH0KICAgICAgICAgIG9haUF1ZGl0TG9nZ2VyID0gY29tcG9uZW50ICJbU2hhcmVkXSBBdWRpdCBMb2dnZXIiICJPcGVuVGVsZW1ldHJ5IiB7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uICJPcGVuVGVsZW1ldHJ5LWJhc2VkIGF1ZGl0IGxvZ2dpbmcgb2YgbWVzc2FnZXMgYW5kIGRlY2lzaW9ucyIKICAgICAgICAgICAgdGFncyAiU2hhcmVkIgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBvYWlSYXRlTGltaXRlciA9IGNvbXBvbmVudCAiW1NoYXJlZF0gUmF0ZSBMaW1pdGVyIiAiUHl0aG9uIiB7CiAgICAgICAgICBkZXNjcmlwdGlvbiAiW05PVCBJTVBMRU1FTlRFRF0gQVBJIHJhdGUgbGltaXRpbmcgcGVyIHVzZXIvSVAiCiAgICAgICAgICB0YWdzICJOb3RJbXBsZW1lbnRlZCIgIlNoYXJlZCIKICAgICAgICB9CiAgICAgICAgb2FpQ2lyY3VpdEJyZWFrZXIgPSBjb21wb25lbnQgIltTaGFyZWRdIENpcmN1aXQgQnJlYWtlciIgIlB5dGhvbiIgewogICAgICAgICAgZGVzY3JpcHRpb24gIltOT1QgSU1QTEVNRU5URURdIENpcmN1aXQgYnJlYWtlciBwYXR0ZXJuIGZvciBNQ1Agc2VydmVyIGNhbGxzIgogICAgICAgICAgdGFncyAiTm90SW1wbGVtZW50ZWQiICJTaGFyZWQiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIG9haUZhc3RBcGlTZXJ2ZXIgLT4gb2FpQWdVaUhhbmRsZXIgInJvdXRlcyBXZWJTb2NrZXQiICJXZWJTb2NrZXQiCiAgICAgICAgb2FpRmFzdEFwaVNlcnZlciAtPiBvYWlSZXN0RW5kcG9pbnRzICJyb3V0ZXMgSFRUUCIgIkhUVFAvUkVTVCIKICAgICAgICBvYWlBZ1VpSGFuZGxlciAtPiBvYWlPcmNoZXN0cmF0b3JQaXBlbGluZSAicHJvY2Vzc2VzIG1lc3NhZ2VzIgogICAgICAgIG9haU9yY2hlc3RyYXRvclBpcGVsaW5lIC0+IG9haUFnZW50RXhlY3V0b3IgInJ1bnMgYWdlbnRzIgogICAgICAgIG9haU9yY2hlc3RyYXRvclBpcGVsaW5lIC0+IG9haU1vZGVyYXRvciAidmFsaWRhdGVzIEkvTyIKICAgICAgICBvYWlPcmNoZXN0cmF0b3JQaXBlbGluZSAtPiBvYWlBcHByb3ZhbExvZ2ljICJjaGVja3MgYXBwcm92YWwiCiAgICAgICAgb2FpQWdlbnRFeGVjdXRvciAtPiBvYWlBZ2VudERlZmluaXRpb25zICJnZXRzIGFnZW50cyIKICAgICAgICBvYWlBZ2VudEV4ZWN1dG9yIC0+IG9haUhhbmRvZmZMb2dpYyAiaGFuZGxlcyBoYW5kb2ZmcyIKICAgICAgICBvYWlBZ2VudEV4ZWN1dG9yIC0+IG9haVNlc3Npb25QZXJzaXN0ZW5jZSAicGVyc2lzdHMgc3RhdGUiICJTUUxpdGUiCiAgICAgICAgb2FpQWdlbnREZWZpbml0aW9ucyAtPiBvYWlNY3BBZGFwdGVyICJjb25maWd1cmVzIHRvb2xzIiAiTUNQIGNvbmZpZyIKICAgICAgICBvYWlPcmNoZXN0cmF0b3JQaXBlbGluZSAtPiBvYWlBdWRpdExvZ2dlciAibG9ncyBldmVudHMiICJPcGVuVGVsZW1ldHJ5IgogICAgICB9CiAgICAgIAogICAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICMgT1JDSEVTVFJBVE9SIC0gTGFuZ0dyYXBoIChPcGVuIFNvdXJjZSkgKGZvciBDMyBkZXRhaWwgdmlldykKICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICBvcmNoZXN0cmF0b3JMYW5nR3JhcGggPSBjb250YWluZXIgIk9yY2hlc3RyYXRvciBbT3BlblNvdXJjZV0iICJMYW5nR3JhcGggKyBGYXN0QVBJICsgU1FMaXRlIiAiUHl0aG9uIiB7CiAgICAgICAgZGVzY3JpcHRpb24gIkNlbnRyYWwgb3JjaGVzdHJhdGlvbiB1c2luZyBMYW5nR3JhcGggU3RhdGVHcmFwaCAoTExNIHByb3ZpZGVyLWFnbm9zdGljKS4iCiAgICAgICAgdGFncyAiQmFja2VuZCIgIk9wZW5Tb3VyY2UiCiAgICAgICAgCiAgICAgICAgZ3JvdXAgIkFQSSBMYXllciBbU2hhcmVkXSIgewogICAgICAgICAgbGdGYXN0QXBpU2VydmVyID0gY29tcG9uZW50ICJbU2hhcmVkXSBGYXN0QVBJIFNlcnZlciIgIkZhc3RBUEkgKyBVdmljb3JuIiB7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uICJIVFRQIHNlcnZlciB3aXRoIFdlYlNvY2tldCBzdXBwb3J0IGF0IC93cyBlbmRwb2ludCIKICAgICAgICAgICAgdGFncyAiU2hhcmVkIgogICAgICAgICAgfQogICAgICAgICAgbGdBZ1VpSGFuZGxlciA9IGNvbXBvbmVudCAiW1NoYXJlZF0gQUctVUkgUHJvdG9jb2wgSGFuZGxlciIgIlB5dGhvbiIgewogICAgICAgICAgICBkZXNjcmlwdGlvbiAiUHJvY2Vzc2VzIEFHLVVJIFByb3RvY29sIGV2ZW50czogUlVOX1NUQVJURUQvRklOSVNIRUQsIFRFWFRfTUVTU0FHRV8qLCBUT09MX0NBTExfKiwgU1RBVEVfU05BUFNIT1QsIENVU1RPTSAoYXBwcm92YWwpIgogICAgICAgICAgICB0YWdzICJTaGFyZWQiCiAgICAgICAgICB9CiAgICAgICAgICBsZ1Jlc3RFbmRwb2ludHMgPSBjb21wb25lbnQgIltTaGFyZWRdIFJFU1QgRW5kcG9pbnRzIiAiRmFzdEFQSSIgewogICAgICAgICAgICBkZXNjcmlwdGlvbiAiL2hlYWx0aCwgL2FnZW50cywgL3Nlc3Npb25zL3tpZH0vaGlzdG9yeSBlbmRwb2ludHMiCiAgICAgICAgICAgIHRhZ3MgIlNoYXJlZCIKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZ3JvdXAgIlBpcGVsaW5lcyBMYXllciBbU2hhcmVkXSIgewogICAgICAgICAgbGdPcmNoZXN0cmF0b3JQaXBlbGluZSA9IGNvbXBvbmVudCAiW1NoYXJlZF0gT3JjaGVzdHJhdG9yIFBpcGVsaW5lIiAiUHl0aG9uIiB7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uICJNYWluIG1lc3NhZ2UgcHJvY2Vzc2luZyB3aXRoIGFwcHJvdmFsIGZsb3cgbWFuYWdlbWVudCB1c2luZyBhc3RyZWFtX2V2ZW50cyIKICAgICAgICAgICAgdGFncyAiU2hhcmVkIgogICAgICAgICAgfQogICAgICAgICAgbGdNb2RlcmF0b3IgPSBjb21wb25lbnQgIltTaGFyZWRdIE1vZGVyYXRvciIgIlB5dGhvbiIgewogICAgICAgICAgICBkZXNjcmlwdGlvbiAiSW5wdXQgdmFsaWRhdGlvbiwgb3V0cHV0IGZpbHRlcmluZywgYmxvY2tlZCBwYXR0ZXJucyBkZXRlY3Rpb24iCiAgICAgICAgICAgIHRhZ3MgIlNoYXJlZCIKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZ3JvdXAgIkNvcmUgTGF5ZXIgW09wZW5Tb3VyY2VdIiB7CiAgICAgICAgICBsZ0FnZW50RGVmaW5pdGlvbnMgPSBjb21wb25lbnQgIltPcGVuU291cmNlXSBBZ2VudCBEZWZpbml0aW9ucyIgIlB5dGhvbiBhc3luYyBmdW5jdGlvbnMiIHsKICAgICAgICAgICAgZGVzY3JpcHRpb24gIkFzeW5jIGZ1bmN0aW9ucyAoZ2VuZXJhbF9hZ2VudCwgcmVndWxhdGlvbl9hZ2VudCwgZXRjLikgaW52b2tpbmcgQ2hhdE9wZW5BSSB3aXRoIGJvdW5kIHRvb2xzIgogICAgICAgICAgICB0YWdzICJPcGVuU291cmNlIgogICAgICAgICAgfQogICAgICAgICAgbGdBZ2VudEV4ZWN1dG9yID0gY29tcG9uZW50ICJbT3BlblNvdXJjZV0gQWdlbnQgRXhlY3V0b3IiICJsYW5nZ3JhcGguU3RhdGVHcmFwaCIgewogICAgICAgICAgICBkZXNjcmlwdGlvbiAiU3RhdGVHcmFwaCB3aXRoIEFnZW50U3RhdGUgVHlwZWREaWN0LCBhc3RyZWFtX2V2ZW50cygpIGZvciBzdHJlYW1pbmciCiAgICAgICAgICAgIHRhZ3MgIk9wZW5Tb3VyY2UiCiAgICAgICAgICB9CiAgICAgICAgICBsZ1Rvb2xFeGVjdXRvciA9IGNvbXBvbmVudCAiW09wZW5Tb3VyY2VdIFRvb2wgRXhlY3V0b3IiICJsYW5nZ3JhcGgucHJlYnVpbHQuVG9vbE5vZGUiIHsKICAgICAgICAgICAgZGVzY3JpcHRpb24gIlByZWJ1aWx0IFRvb2xOb2RlIGhhbmRsZXMgYWxsIHRvb2wgY2FsbHMgaW5jbHVkaW5nIGhhbmRvZmZzIgogICAgICAgICAgICB0YWdzICJPcGVuU291cmNlIgogICAgICAgICAgfQogICAgICAgICAgbGdIYW5kb2ZmTG9naWMgPSBjb21wb25lbnQgIltPcGVuU291cmNlXSBIYW5kb2ZmIExvZ2ljIiAiUHl0aG9uIiB7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uICJFeHBsaWNpdCB0cmFuc2Zlcl90b18qIHRvb2xzIHRoYXQgbXVzdCBnbyB0aHJvdWdoIFRvb2xOb2RlIGZpcnN0IgogICAgICAgICAgICB0YWdzICJPcGVuU291cmNlIgogICAgICAgICAgfQogICAgICAgICAgbGdSb3V0aW5nTG9naWMgPSBjb21wb25lbnQgIltPcGVuU291cmNlXSBSb3V0aW5nIExvZ2ljIiAiUHl0aG9uIiB7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uICJyb3V0ZV9mcm9tX2FnZW50KCkg4oaSICd0b29scyd8J2VuZCcsIHJvdXRlX2FmdGVyX3Rvb2xzKCkg4oaSIGRldGVjdHMgaGFuZG9mZiDihpIgdGFyZ2V0IGFnZW50IgogICAgICAgICAgICB0YWdzICJPcGVuU291cmNlIgogICAgICAgICAgfQogICAgICAgICAgbGdBcHByb3ZhbExvZ2ljID0gY29tcG9uZW50ICJbU2hhcmVkXSBBcHByb3ZhbCBMb2dpYyIgIlB5dGhvbiIgewogICAgICAgICAgICBkZXNjcmlwdGlvbiAiSHVtYW4taW4tbG9vcCBydWxlcyBmb3IgaGlnaC1yaXNrIHRvb2xzIgogICAgICAgICAgICB0YWdzICJTaGFyZWQiCiAgICAgICAgICB9CiAgICAgICAgICBsZ1Nlc3Npb25QZXJzaXN0ZW5jZSA9IGNvbXBvbmVudCAiW09wZW5Tb3VyY2VdIFNlc3Npb24gUGVyc2lzdGVuY2UiICJBc3luY1NxbGl0ZVNhdmVyIiB7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uICJMYW5nR3JhcGggY2hlY2twb2ludGVyIGZvciBjb252ZXJzYXRpb24gc3RhdGUgKHNlc3Npb25zLmRiKSIKICAgICAgICAgICAgdGFncyAiT3BlblNvdXJjZSIKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZ3JvdXAgIkFkYXB0ZXJzIExheWVyIiB7CiAgICAgICAgICBsZ01jcEFkYXB0ZXIgPSBjb21wb25lbnQgIltPcGVuU291cmNlXSBNQ1AgQWRhcHRlciIgIk11bHRpU2VydmVyTUNQQ2xpZW50IiB7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uICJsYW5nY2hhaW4tbWNwLWFkYXB0ZXJzIGZvciBNQ1Agc2VydmVyIGNvbm5lY3Rpb25zIHdpdGggcGVyLWFnZW50IHRvb2wgc2NvcGluZyIKICAgICAgICAgICAgdGFncyAiT3BlblNvdXJjZSIKICAgICAgICAgIH0KICAgICAgICAgIGxnQXVkaXRMb2dnZXIgPSBjb21wb25lbnQgIltTaGFyZWRdIEF1ZGl0IExvZ2dlciIgIk9wZW5UZWxlbWV0cnkiIHsKICAgICAgICAgICAgZGVzY3JpcHRpb24gIk9wZW5UZWxlbWV0cnktYmFzZWQgYXVkaXQgbG9nZ2luZyBvZiBtZXNzYWdlcyBhbmQgZGVjaXNpb25zIgogICAgICAgICAgICB0YWdzICJTaGFyZWQiCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGxnUmF0ZUxpbWl0ZXIgPSBjb21wb25lbnQgIltTaGFyZWRdIFJhdGUgTGltaXRlciIgIlB5dGhvbiIgewogICAgICAgICAgZGVzY3JpcHRpb24gIltOT1QgSU1QTEVNRU5URURdIEFQSSByYXRlIGxpbWl0aW5nIHBlciB1c2VyL0lQIgogICAgICAgICAgdGFncyAiTm90SW1wbGVtZW50ZWQiICJTaGFyZWQiCiAgICAgICAgfQogICAgICAgIGxnQ2lyY3VpdEJyZWFrZXIgPSBjb21wb25lbnQgIltTaGFyZWRdIENpcmN1aXQgQnJlYWtlciIgIlB5dGhvbiIgewogICAgICAgICAgZGVzY3JpcHRpb24gIltOT1QgSU1QTEVNRU5URURdIENpcmN1aXQgYnJlYWtlciBwYXR0ZXJuIGZvciBNQ1Agc2VydmVyIGNhbGxzIgogICAgICAgICAgdGFncyAiTm90SW1wbGVtZW50ZWQiICJTaGFyZWQiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGxnRmFzdEFwaVNlcnZlciAtPiBsZ0FnVWlIYW5kbGVyICJyb3V0ZXMgV2ViU29ja2V0IiAiV2ViU29ja2V0IgogICAgICAgIGxnRmFzdEFwaVNlcnZlciAtPiBsZ1Jlc3RFbmRwb2ludHMgInJvdXRlcyBIVFRQIiAiSFRUUC9SRVNUIgogICAgICAgIGxnQWdVaUhhbmRsZXIgLT4gbGdPcmNoZXN0cmF0b3JQaXBlbGluZSAicHJvY2Vzc2VzIG1lc3NhZ2VzIgogICAgICAgIGxnT3JjaGVzdHJhdG9yUGlwZWxpbmUgLT4gbGdBZ2VudEV4ZWN1dG9yICJpbnZva2VzIGdyYXBoIgogICAgICAgIGxnT3JjaGVzdHJhdG9yUGlwZWxpbmUgLT4gbGdNb2RlcmF0b3IgInZhbGlkYXRlcyBJL08iCiAgICAgICAgbGdPcmNoZXN0cmF0b3JQaXBlbGluZSAtPiBsZ0FwcHJvdmFsTG9naWMgImNoZWNrcyBhcHByb3ZhbCIKICAgICAgICBsZ0FnZW50RXhlY3V0b3IgLT4gbGdUb29sRXhlY3V0b3IgImV4ZWN1dGVzIHRvb2xzIgogICAgICAgIGxnQWdlbnRFeGVjdXRvciAtPiBsZ1JvdXRpbmdMb2dpYyAiZGV0ZXJtaW5lcyBuZXh0IgogICAgICAgIGxnVG9vbEV4ZWN1dG9yIC0+IGxnSGFuZG9mZkxvZ2ljICJleGVjdXRlcyBoYW5kb2ZmcyIKICAgICAgICBsZ1JvdXRpbmdMb2dpYyAtPiBsZ0FnZW50RGVmaW5pdGlvbnMgInJvdXRlcyB0byBhZ2VudCIKICAgICAgICBsZ0FnZW50RXhlY3V0b3IgLT4gbGdTZXNzaW9uUGVyc2lzdGVuY2UgInBlcnNpc3RzIHN0YXRlIiAiU1FMaXRlIgogICAgICAgIGxnQWdlbnREZWZpbml0aW9ucyAtPiBsZ01jcEFkYXB0ZXIgImJpbmRzIHRvb2xzIgogICAgICAgIGxnT3JjaGVzdHJhdG9yUGlwZWxpbmUgLT4gbGdBdWRpdExvZ2dlciAibG9ncyBldmVudHMiICJPcGVuVGVsZW1ldHJ5IgogICAgICB9CiAgICAgIAogICAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICMgTUNQIEFHRU5UIFNFUlZFUlMgW1NoYXJlZF0KICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICBtY3BTZXJ2ZXJzID0gY29udGFpbmVyICJNQ1AgQWdlbnQgU2VydmVycyIgIkZhc3RNQ1AgKyBQeXRob24iICJEb2NrZXIiIHsKICAgICAgICBkZXNjcmlwdGlvbiAiW1NoYXJlZF0gRG9tYWluLXNwZWNpZmljIGFnZW50IGNhcGFiaWxpdGllcyBleHBvc2VkIHZpYSBNQ1AgUHJvdG9jb2wuIEV4dGVuc2libGUgYnkgYWRkaW5nIG5ldyBNQ1Agc2VydmVycy4iCiAgICAgICAgdGFncyAiQmFja2VuZCIgIkV4dGVuc2libGUiICJTaGFyZWQiCiAgICAgICAgCiAgICAgICAgcmVndWxhdGlvblNlcnZlciA9IGNvbXBvbmVudCAiW1NoYXJlZF0gUmVndWxhdGlvbiBBZ2VudCIgIkZhc3RNQ1AgOjUwMDIiIHsKICAgICAgICAgIGRlc2NyaXB0aW9uICJUb29sczogc2VhcmNoX3JlZ3VsYXRpb25zLCBnZXRfcmVndWxhdGlvbl9jb250ZXh0LCBsb29rdXBfcmVndWxhdGlvbl9hcnRpY2xlcywgYW5hbHl6ZV9kb2N1bWVudCIKICAgICAgICAgIHRhZ3MgIlNoYXJlZCIKICAgICAgICB9CiAgICAgICAgcmVwb3J0aW5nU2VydmVyID0gY29tcG9uZW50ICJbU2hhcmVkXSBSZXBvcnRpbmcgQWdlbnQiICJGYXN0TUNQIDo1MDAzIiB7CiAgICAgICAgICBkZXNjcmlwdGlvbiAiVG9vbHM6IHN0YXJ0X2luc3BlY3Rpb25fcmVwb3J0LCBleHRyYWN0X2luc3BlY3Rpb25fZGF0YSwgdmVyaWZ5X2luc3BlY3Rpb25fZGF0YSwgZ2VuZXJhdGVfZmluYWxfcmVwb3J0IgogICAgICAgICAgdGFncyAiU2hhcmVkIgogICAgICAgIH0KICAgICAgICBoaXN0b3J5U2VydmVyID0gY29tcG9uZW50ICJbU2hhcmVkXSBIaXN0b3J5IEFnZW50IiAiRmFzdE1DUCA6NTAwNSIgewogICAgICAgICAgZGVzY3JpcHRpb24gIlRvb2xzOiBjaGVja19jb21wYW55X2V4aXN0cywgZ2V0X2luc3BlY3Rpb25faGlzdG9yeSwgZ2V0X2NvbXBhbnlfdmlvbGF0aW9ucywgY2hlY2tfcmVwZWF0X3Zpb2xhdGlvbiIKICAgICAgICAgIHRhZ3MgIlNoYXJlZCIKICAgICAgICB9CiAgICAgIH0KICAgICAgCiAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgIyBNSVNTSU5HIENPTlRBSU5FUlMgW1NoYXJlZF0gLSBQcm9kdWN0aW9uIEdhcCBBbmFseXNpcwogICAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgIHVzZXJQcm9maWxlID0gY29udGFpbmVyICJVc2VyIFByb2ZpbGUiICJQb3N0Z3JlU1FMIiAiRGF0YWJhc2UiIHsKICAgICAgICBkZXNjcmlwdGlvbiAiW1NoYXJlZF0gW05PVCBJTVBMRU1FTlRFRF0gVXNlciBwcm9maWxlcywgcHJlZmVyZW5jZXMsIHJvbGVzIChSQkFDKSIKICAgICAgICB0YWdzICJEYXRhYmFzZSIgIk5vdEltcGxlbWVudGVkIiAiU2hhcmVkIgogICAgICB9CiAgICAgIAogICAgICBtZW1vcnkgPSBjb250YWluZXIgIk1lbW9yeSBTZXJ2aWNlIiAiVmVjdG9yIERCICsgUG9zdGdyZVNRTCIgIlNlcnZpY2UiIHsKICAgICAgICBkZXNjcmlwdGlvbiAiW1NoYXJlZF0gW05PVCBJTVBMRU1FTlRFRF0gTG9uZy10ZXJtIG1lbW9yeSwgY3Jvc3Mtc2Vzc2lvbiBjb250ZXh0IgogICAgICAgIHRhZ3MgIkJhY2tlbmQiICJOb3RJbXBsZW1lbnRlZCIgIlNoYXJlZCIKICAgICAgfQogICAgICAKICAgICAgdmlzaWJpbGl0eSA9IGNvbnRhaW5lciAiVmlzaWJpbGl0eSBTdGFjayIgIkdyYWZhbmEgKyBQcm9tZXRoZXVzICsgSmFlZ2VyIiAiT2JzZXJ2YWJpbGl0eSIgewogICAgICAgIGRlc2NyaXB0aW9uICJbU2hhcmVkXSBbTk9UIElNUExFTUVOVEVEXSBNb25pdG9yaW5nLCBsb2dnaW5nLCB0cmFjaW5nIGRhc2hib2FyZHMiCiAgICAgICAgdGFncyAiT2JzZXJ2YWJpbGl0eSIgIk5vdEltcGxlbWVudGVkIiAiU2hhcmVkIgogICAgICB9CiAgICAgIAogICAgICBldmFsU2VydmljZSA9IGNvbnRhaW5lciAiRXZhbHVhdGlvbiBTZXJ2aWNlIiAiTGFuZ2Z1c2UiICJPYnNlcnZhYmlsaXR5IiB7CiAgICAgICAgZGVzY3JpcHRpb24gIltTaGFyZWRdIFtOT1QgSU1QTEVNRU5URURdIExMTSB0cmFjaW5nLCBxdWFsaXR5IGV2YWx1YXRpb25zLCBjb3N0IHRyYWNraW5nIgogICAgICAgIHRhZ3MgIk9ic2VydmFiaWxpdHkiICJOb3RJbXBsZW1lbnRlZCIgIlNoYXJlZCIKICAgICAgfQogICAgICAKICAgICAgYXV0aFNlcnZpY2UgPSBjb250YWluZXIgIkF1dGggU2VydmljZSIgIkF1dGgwL0tleWNsb2FrIiAiU2VjdXJpdHkiIHsKICAgICAgICBkZXNjcmlwdGlvbiAiW1NoYXJlZF0gW05PVCBJTVBMRU1FTlRFRF0gT0F1dGgyL09JREMgYXV0aGVudGljYXRpb24sIFJCQUMiCiAgICAgICAgdGFncyAiU2VjdXJpdHkiICJOb3RJbXBsZW1lbnRlZCIgIlNoYXJlZCIKICAgICAgfQogICAgICAKICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAjIElOVEVSTkFMIENPTlRBSU5FUiBSRUxBVElPTlNISVBTIChVbmlmaWVkIG9yY2hlc3RyYXRvciBmb3IgQzIvZXh0ZXJuYWwpCiAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgIyBIQUkgY29ubmVjdHMgdG8gdW5pZmllZCBvcmNoZXN0cmF0b3IKICAgICAgaGFpIC0+IG9yY2hlc3RyYXRvciAiQUctVUkgUHJvdG9jb2wiICJXZWJTb2NrZXQvSlNPTiA6ODAwMSIKICAgICAgCiAgICAgICMgVW5pZmllZCBvcmNoZXN0cmF0b3IgY29ubmVjdHMgdG8gc2hhcmVkIE1DUCBzZXJ2ZXJzCiAgICAgIG9yY2hlc3RyYXRvciAtPiBtY3BTZXJ2ZXJzICJNQ1AgUHJvdG9jb2wiICJIVFRQL1NTRSBTdHJlYW1hYmxlIgogICAgICAKICAgICAgIyBPYnNlcnZhYmlsaXR5IGNvbm5lY3Rpb25zIChub3QgaW1wbGVtZW50ZWQpCiAgICAgIG9yY2hlc3RyYXRvciAtPiB2aXNpYmlsaXR5ICJbTk9UIENPTk5FQ1RFRF0iICJPcGVuVGVsZW1ldHJ5IE9UTFAiCiAgICAgIG9yY2hlc3RyYXRvciAtPiBldmFsU2VydmljZSAiW05PVCBDT05ORUNURURdIiAiTGFuZ2Z1c2UgU0RLIgogICAgICAKICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAjIENPTVBPTkVOVC1MRVZFTCBSRUxBVElPTlNISVBTIChmb3IgQzMgdmlld3MpCiAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgIyBIQUkgdG8gdW5pZmllZCBvcmNoZXN0cmF0b3IgKGZvciBDMyBIQUkgdmlldykKICAgICAgYWdvcmEuaGFpLndlYnNvY2tldENsaWVudCAtPiBhZ29yYS5vcmNoZXN0cmF0b3IgIkFHLVVJIFByb3RvY29sIiAiV2ViU29ja2V0IgogICAgICAKICAgICAgIyBPcGVuQUkgT3JjaGVzdHJhdG9yIE1DUCBjb25uZWN0aW9ucyAoZm9yIEMzIE9wZW5BSSB2aWV3KQogICAgICBhZ29yYS5vcmNoZXN0cmF0b3JPcGVuQUkub2FpTWNwQWRhcHRlciAtPiBhZ29yYS5tY3BTZXJ2ZXJzLnJlZ3VsYXRpb25TZXJ2ZXIgIk1DUCIgIkhUVFAgUE9TVCAvbWNwIgogICAgICBhZ29yYS5vcmNoZXN0cmF0b3JPcGVuQUkub2FpTWNwQWRhcHRlciAtPiBhZ29yYS5tY3BTZXJ2ZXJzLnJlcG9ydGluZ1NlcnZlciAiTUNQIiAiSFRUUCBQT1NUIC9tY3AiCiAgICAgIGFnb3JhLm9yY2hlc3RyYXRvck9wZW5BSS5vYWlNY3BBZGFwdGVyIC0+IGFnb3JhLm1jcFNlcnZlcnMuaGlzdG9yeVNlcnZlciAiTUNQIiAiSFRUUCBQT1NUIC9tY3AiCiAgICAgIAogICAgICAjIExhbmdHcmFwaCBPcmNoZXN0cmF0b3IgTUNQIGNvbm5lY3Rpb25zIChmb3IgQzMgT3BlblNvdXJjZSB2aWV3KQogICAgICBhZ29yYS5vcmNoZXN0cmF0b3JMYW5nR3JhcGgubGdNY3BBZGFwdGVyIC0+IGFnb3JhLm1jcFNlcnZlcnMucmVndWxhdGlvblNlcnZlciAiTUNQIiAiSFRUUCBQT1NUIC9tY3AiCiAgICAgIGFnb3JhLm9yY2hlc3RyYXRvckxhbmdHcmFwaC5sZ01jcEFkYXB0ZXIgLT4gYWdvcmEubWNwU2VydmVycy5yZXBvcnRpbmdTZXJ2ZXIgIk1DUCIgIkhUVFAgUE9TVCAvbWNwIgogICAgICBhZ29yYS5vcmNoZXN0cmF0b3JMYW5nR3JhcGgubGdNY3BBZGFwdGVyIC0+IGFnb3JhLm1jcFNlcnZlcnMuaGlzdG9yeVNlcnZlciAiTUNQIiAiSFRUUCBQT1NUIC9tY3AiCiAgICAgIAogICAgICAjIEhBSSBXZWJTb2NrZXQgY29ubmVjdGlvbnMgKGZvciBDMyBvcmNoZXN0cmF0b3IgZGV0YWlsIHZpZXdzKQogICAgICBhZ29yYS5oYWkud2Vic29ja2V0Q2xpZW50IC0+IGFnb3JhLm9yY2hlc3RyYXRvck9wZW5BSS5vYWlGYXN0QXBpU2VydmVyICJBRy1VSSBQcm90b2NvbCIgIldlYlNvY2tldCIKICAgICAgYWdvcmEuaGFpLndlYnNvY2tldENsaWVudCAtPiBhZ29yYS5vcmNoZXN0cmF0b3JMYW5nR3JhcGgubGdGYXN0QXBpU2VydmVyICJBRy1VSSBQcm90b2NvbCIgIldlYlNvY2tldCIKICAgICAgCiAgICAgICMgVW5pZmllZCBPcmNoZXN0cmF0b3IgdG8gTUNQIEFnZW50IGNvbm5lY3Rpb25zIChmb3IgQzMgTUNQIHZpZXcpCiAgICAgIGFnb3JhLm9yY2hlc3RyYXRvciAtPiBhZ29yYS5tY3BTZXJ2ZXJzLnJlZ3VsYXRpb25TZXJ2ZXIgIk1DUCIgIkhUVFAgUE9TVCAvbWNwIgogICAgICBhZ29yYS5vcmNoZXN0cmF0b3IgLT4gYWdvcmEubWNwU2VydmVycy5yZXBvcnRpbmdTZXJ2ZXIgIk1DUCIgIkhUVFAgUE9TVCAvbWNwIgogICAgICBhZ29yYS5vcmNoZXN0cmF0b3IgLT4gYWdvcmEubWNwU2VydmVycy5oaXN0b3J5U2VydmVyICJNQ1AiICJIVFRQIFBPU1QgL21jcCIKICAgIH0KICAgIAogICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAjIE1DUCBBR0VOVCBFQ09TWVNURU0gKEMxIExldmVsKQogICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBtY3BFY29zeXN0ZW0gPSBzb2Z0d2FyZVN5c3RlbSAiTUNQIEFnZW50IEVjb3N5c3RlbSIgIltTaGFyZWRdIEV4dGVuc2libGUgZG9tYWluIGFnZW50cyB2aWEgTW9kZWwgQ29udGV4dCBQcm90b2NvbC4gQWRkIG5ldyBjYXBhYmlsaXRpZXMgYnkgZGVwbG95aW5nIE1DUCBzZXJ2ZXJzLiIgewogICAgICB0YWdzICJFeHRlbnNpYmxlIgogICAgfQogICAgCiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICMgQzEgUkVMQVRJT05TSElQUwogICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBpbnNwZWN0b3IgLT4gYWdvcmEgInVzZXMgZm9yIGluc3BlY3Rpb25zIiAiSFRUUFMvV2ViU29ja2V0IgogICAgYWdvcmEgLT4gbWNwRWNvc3lzdGVtICJvcmNoZXN0cmF0ZXMgYWdlbnRzIiAiTUNQIFByb3RvY29sIgogIH0KICAKICB2aWV3cyB7CiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICMgQzE6IFNZU1RFTSBDT05URVhUCiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHN5c3RlbUNvbnRleHQgYWdvcmEgIkMxX1N5c3RlbUNvbnRleHQiIHsKICAgICAgaW5jbHVkZSBpbnNwZWN0b3IKICAgICAgaW5jbHVkZSBhZ29yYQogICAgICBpbmNsdWRlIG1jcEVjb3N5c3RlbQogICAgICBhdXRvbGF5b3V0IGxyIDQwMCAyMDAKICAgICAgZGVzY3JpcHRpb24gIlN5c3RlbSBDb250ZXh0IChDMSk6IEluc3BlY3RvciDihpIgQUdPUkEg4oaSIE1DUCBBZ2VudCBFY29zeXN0ZW0iCiAgICB9CiAgICAKICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgIyBDMjogQ09OVEFJTkVSIERJQUdSQU0gKFVuaWZpZWQgb3JjaGVzdHJhdG9yKQogICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBjb250YWluZXIgYWdvcmEgIkMyX0NvbnRhaW5lcnMiIHsKICAgICAgaW5jbHVkZSBhZ29yYS5oYWkKICAgICAgaW5jbHVkZSBhZ29yYS5vcmNoZXN0cmF0b3IKICAgICAgaW5jbHVkZSBhZ29yYS5tY3BTZXJ2ZXJzCiAgICAgIGluY2x1ZGUgYWdvcmEudXNlclByb2ZpbGUKICAgICAgaW5jbHVkZSBhZ29yYS5tZW1vcnkKICAgICAgaW5jbHVkZSBhZ29yYS52aXNpYmlsaXR5CiAgICAgIGluY2x1ZGUgYWdvcmEuZXZhbFNlcnZpY2UKICAgICAgaW5jbHVkZSBhZ29yYS5hdXRoU2VydmljZQogICAgICBhdXRvbGF5b3V0IHRiIDM1MCAyMDAKICAgICAgZGVzY3JpcHRpb24gIkNvbnRhaW5lciBEaWFncmFtIChDMik6IEhBSSDihpIgT3JjaGVzdHJhdG9yIFtPcGVuQUkvT3BlblNvdXJjZV0g4oaSIE1DUCBBZ2VudCBTZXJ2ZXJzICgrIGZ1dHVyZSBzZXJ2aWNlcykiCiAgICB9CiAgICAKICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgIyBDMzogSEFJIENPTVBPTkVOVFMgW1NoYXJlZF0KICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgY29tcG9uZW50IGFnb3JhLmhhaSAiQzNfSEFJX0NvbXBvbmVudHMiIHsKICAgICAgaW5jbHVkZSAqCiAgICAgIGluY2x1ZGUgYWdvcmEub3JjaGVzdHJhdG9yCiAgICAgIGV4Y2x1ZGUgYWdvcmEub3JjaGVzdHJhdG9yT3BlbkFJCiAgICAgIGV4Y2x1ZGUgYWdvcmEub3JjaGVzdHJhdG9yTGFuZ0dyYXBoCiAgICAgIGF1dG9sYXlvdXQgdGIgMzAwIDE1MAogICAgICBkZXNjcmlwdGlvbiAiQ29tcG9uZW50IERpYWdyYW0gKEMzKTogSEFJIEZyb250ZW5kIC0gYWxsIFtTaGFyZWRdIGJldHdlZW4gYmFja2VuZHMiCiAgICB9CiAgICAKICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgIyBDMzogT1JDSEVTVFJBVE9SIFtPcGVuQUldIC0gRGV0YWlsZWQgaW1wbGVtZW50YXRpb24gdmlldwogICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBjb21wb25lbnQgYWdvcmEub3JjaGVzdHJhdG9yT3BlbkFJICJDM19PcmNoZXN0cmF0b3JfT3BlbkFJIiB7CiAgICAgIGluY2x1ZGUgKgogICAgICBpbmNsdWRlIGFnb3JhLmhhaQogICAgICBpbmNsdWRlIGFnb3JhLm1jcFNlcnZlcnMKICAgICAgYXV0b2xheW91dCB0YiAyNTAgMTUwCiAgICAgIGRlc2NyaXB0aW9uICJDb21wb25lbnQgRGlhZ3JhbSAoQzMpOiBPcmNoZXN0cmF0b3IgW09wZW5BSV0gLSBTREsgQWdlbnQvUnVubmVyL0hhbmRvZmZzIgogICAgfQogICAgCiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICMgQzM6IE9SQ0hFU1RSQVRPUiBbT3BlblNvdXJjZV0gLSBEZXRhaWxlZCBpbXBsZW1lbnRhdGlvbiB2aWV3CiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGNvbXBvbmVudCBhZ29yYS5vcmNoZXN0cmF0b3JMYW5nR3JhcGggIkMzX09yY2hlc3RyYXRvcl9PcGVuU291cmNlIiB7CiAgICAgIGluY2x1ZGUgKgogICAgICBpbmNsdWRlIGFnb3JhLmhhaQogICAgICBpbmNsdWRlIGFnb3JhLm1jcFNlcnZlcnMKICAgICAgYXV0b2xheW91dCB0YiAyNTAgMTUwCiAgICAgIGRlc2NyaXB0aW9uICJDb21wb25lbnQgRGlhZ3JhbSAoQzMpOiBPcmNoZXN0cmF0b3IgW09wZW5Tb3VyY2VdIC0gU3RhdGVHcmFwaC9Ub29sTm9kZS9Sb3V0aW5nIgogICAgfQogICAgCiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICMgQzM6IE1DUCBBR0VOVCBTRVJWRVJTIFtTaGFyZWRdCiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGNvbXBvbmVudCBhZ29yYS5tY3BTZXJ2ZXJzICJDM19NQ1BfQ29tcG9uZW50cyIgewogICAgICBpbmNsdWRlICoKICAgICAgaW5jbHVkZSBhZ29yYS5vcmNoZXN0cmF0b3IKICAgICAgZXhjbHVkZSBhZ29yYS5vcmNoZXN0cmF0b3JPcGVuQUkKICAgICAgZXhjbHVkZSBhZ29yYS5vcmNoZXN0cmF0b3JMYW5nR3JhcGgKICAgICAgYXV0b2xheW91dCBsciAzMDAgMTUwCiAgICAgIGRlc2NyaXB0aW9uICJDb21wb25lbnQgRGlhZ3JhbSAoQzMpOiBNQ1AgQWdlbnQgU2VydmVycyAtIGFsbCBbU2hhcmVkXSBiZXR3ZWVuIGJhY2tlbmRzIgogICAgfQogICAgCiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICMgU1RZTEVTCiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHN0eWxlcyB7CiAgICAgIGVsZW1lbnQgIlBlcnNvbiIgewogICAgICAgIHNoYXBlIHBlcnNvbgogICAgICAgIGJhY2tncm91bmQgIzA4NDI3YgogICAgICAgIGNvbG9yICNmZmZmZmYKICAgICAgfQogICAgICBlbGVtZW50ICJTb2Z0d2FyZSBTeXN0ZW0iIHsKICAgICAgICBiYWNrZ3JvdW5kICMxMTY4YmQKICAgICAgICBjb2xvciAjZmZmZmZmCiAgICAgIH0KICAgICAgZWxlbWVudCAiRXh0ZXJuYWwiIHsKICAgICAgICBiYWNrZ3JvdW5kICM5OTk5OTkKICAgICAgICBjb2xvciAjZmZmZmZmCiAgICAgIH0KICAgICAgZWxlbWVudCAiRXh0ZW5zaWJsZSIgewogICAgICAgIGJhY2tncm91bmQgIzExNjhiZAogICAgICAgIGNvbG9yICNmZmZmZmYKICAgICAgfQogICAgICBlbGVtZW50ICJDb250YWluZXIiIHsKICAgICAgICBiYWNrZ3JvdW5kICM0MzhkZDUKICAgICAgICBjb2xvciAjZmZmZmZmCiAgICAgIH0KICAgICAgZWxlbWVudCAiRnJvbnRlbmQiIHsKICAgICAgICBzaGFwZSBXZWJCcm93c2VyCiAgICAgICAgYmFja2dyb3VuZCAjNDM4ZGQ1CiAgICAgICAgY29sb3IgI2ZmZmZmZgogICAgICB9CiAgICAgIGVsZW1lbnQgIkJhY2tlbmQiIHsKICAgICAgICBzaGFwZSBIZXhhZ29uCiAgICAgICAgYmFja2dyb3VuZCAjNDM4ZGQ1CiAgICAgICAgY29sb3IgI2ZmZmZmZgogICAgICB9CiAgICAgIGVsZW1lbnQgIkRhdGFiYXNlIiB7CiAgICAgICAgc2hhcGUgQ3lsaW5kZXIKICAgICAgICBiYWNrZ3JvdW5kICM0MzhkZDUKICAgICAgICBjb2xvciAjZmZmZmZmCiAgICAgIH0KICAgICAgZWxlbWVudCAiT2JzZXJ2YWJpbGl0eSIgewogICAgICAgIHNoYXBlIFJvdW5kZWRCb3gKICAgICAgICBiYWNrZ3JvdW5kICM0MzhkZDUKICAgICAgICBjb2xvciAjZmZmZmZmCiAgICAgICAgYm9yZGVyIGRhc2hlZAogICAgICB9CiAgICAgIGVsZW1lbnQgIlNlY3VyaXR5IiB7CiAgICAgICAgc2hhcGUgUm91bmRlZEJveAogICAgICAgIGJhY2tncm91bmQgIzQzOGRkNQogICAgICAgIGNvbG9yICNmZmZmZmYKICAgICAgICBib3JkZXIgZGFzaGVkCiAgICAgIH0KICAgICAgZWxlbWVudCAiQ29tcG9uZW50IiB7CiAgICAgICAgYmFja2dyb3VuZCAjODViYmYwCiAgICAgICAgY29sb3IgIzAwMDAwMAogICAgICB9CiAgICAgIGVsZW1lbnQgIlNoYXJlZCIgewogICAgICAgIGJhY2tncm91bmQgIzg1YmJmMAogICAgICAgIGNvbG9yICMwMDAwMDAKICAgICAgfQogICAgICBlbGVtZW50ICJPcGVuQUkiIHsKICAgICAgICBiYWNrZ3JvdW5kICM3NGFhOWMKICAgICAgICBjb2xvciAjMDAwMDAwCiAgICAgIH0KICAgICAgZWxlbWVudCAiT3BlblNvdXJjZSIgewogICAgICAgIGJhY2tncm91bmQgI2ZmOTk2NgogICAgICAgIGNvbG9yICMwMDAwMDAKICAgICAgfQogICAgICBlbGVtZW50ICJOb3RJbXBsZW1lbnRlZCIgewogICAgICAgIGJhY2tncm91bmQgI2ZmY2NjYwogICAgICAgIGNvbG9yICM5OTAwMDAKICAgICAgICBib3JkZXIgZGFzaGVkCiAgICAgICAgb3BhY2l0eSA3MAogICAgICB9CiAgICAgIHJlbGF0aW9uc2hpcCAiUmVsYXRpb25zaGlwIiB7CiAgICAgICAgcm91dGluZyBEaXJlY3QKICAgICAgICB0aGlja25lc3MgMgogICAgICB9CiAgICB9CiAgICAKICAgIHRoZW1lIGRlZmF1bHQKICB9CiAgCiAgY29uZmlndXJhdGlvbiB7CiAgICBzY29wZSBzb2Z0d2FyZXN5c3RlbQogIH0KfQo="
  },
  "views" : {
    "componentViews" : [ {
      "automaticLayout" : {
        "applied" : true,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 150,
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "containerId" : "3",
      "description" : "Component Diagram (C3): HAI Frontend - all [Shared] between backends",
      "dimensions" : {
        "height" : 2609,
        "width" : 2690
      },
      "elements" : [ {
        "id" : "4",
        "x" : 2020,
        "y" : 171
      }, {
        "id" : "5",
        "x" : 1420,
        "y" : 171
      }, {
        "id" : "6",
        "x" : 820,
        "y" : 171
      }, {
        "id" : "7",
        "x" : 1420,
        "y" : 771
      }, {
        "id" : "8",
        "x" : 1420,
        "y" : 1371
      }, {
        "id" : "9",
        "x" : 220,
        "y" : 171
      }, {
        "id" : "14",
        "x" : 1420,
        "y" : 1971
      } ],
      "externalContainerBoundariesVisible" : false,
      "key" : "C3_HAI_Components",
      "order" : 3,
      "relationships" : [ {
        "id" : "10"
      }, {
        "id" : "11"
      }, {
        "id" : "12"
      }, {
        "id" : "13"
      }, {
        "id" : "84"
      } ]
    }, {
      "automaticLayout" : {
        "applied" : true,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 150,
        "rankDirection" : "TopBottom",
        "rankSeparation" : 250,
        "vertices" : false
      },
      "containerId" : "15",
      "description" : "Component Diagram (C3): Orchestrator [OpenAI] - SDK Agent/Runner/Handoffs",
      "dimensions" : {
        "height" : 4639,
        "width" : 3031
      },
      "elements" : [ {
        "id" : "3",
        "x" : 1777,
        "y" : 151
      }, {
        "id" : "16",
        "x" : 1777,
        "y" : 701
      }, {
        "id" : "17",
        "x" : 1477,
        "y" : 1251
      }, {
        "id" : "18",
        "x" : 2077,
        "y" : 1251
      }, {
        "id" : "19",
        "x" : 323,
        "y" : 1801
      }, {
        "id" : "20",
        "x" : 323,
        "y" : 2351
      }, {
        "id" : "21",
        "x" : 1140,
        "y" : 2901
      }, {
        "id" : "22",
        "x" : 1740,
        "y" : 2351
      }, {
        "id" : "23",
        "x" : 1740,
        "y" : 2901
      }, {
        "id" : "24",
        "x" : 1140,
        "y" : 2351
      }, {
        "id" : "25",
        "x" : 2340,
        "y" : 2901
      }, {
        "id" : "26",
        "x" : 1223,
        "y" : 3451
      }, {
        "id" : "27",
        "x" : 623,
        "y" : 3451
      }, {
        "id" : "28",
        "x" : 819,
        "y" : 701
      }, {
        "id" : "29",
        "x" : 219,
        "y" : 701
      }, {
        "id" : "71",
        "x" : 1223,
        "y" : 4001
      } ],
      "externalContainerBoundariesVisible" : false,
      "key" : "C3_Orchestrator_OpenAI",
      "order" : 4,
      "relationships" : [ {
        "id" : "103"
      }, {
        "id" : "30"
      }, {
        "id" : "31"
      }, {
        "id" : "32"
      }, {
        "id" : "33",
        "vertices" : [ {
          "x" : 1665,
          "y" : 2247
        } ]
      }, {
        "id" : "34"
      }, {
        "id" : "35"
      }, {
        "id" : "36"
      }, {
        "id" : "37"
      }, {
        "id" : "38"
      }, {
        "id" : "39"
      }, {
        "id" : "40",
        "vertices" : [ {
          "x" : 848,
          "y" : 2247
        } ]
      }, {
        "id" : "86"
      } ]
    }, {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 150,
        "rankDirection" : "TopBottom",
        "rankSeparation" : 250,
        "vertices" : false
      },
      "containerId" : "41",
      "description" : "Component Diagram (C3): Orchestrator [OpenSource] - StateGraph/ToolNode/Routing",
      "elements" : [ {
        "id" : "3",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "42",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "43",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "44",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "45",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "46",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "47",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "48",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "49",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "50",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "51",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "52",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "53",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "54",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "55",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "56",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "57",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "71",
        "x" : 0,
        "y" : 0
      } ],
      "externalContainerBoundariesVisible" : false,
      "key" : "C3_Orchestrator_OpenSource",
      "order" : 5,
      "relationships" : [ {
        "id" : "107"
      }, {
        "id" : "58"
      }, {
        "id" : "59"
      }, {
        "id" : "60"
      }, {
        "id" : "61"
      }, {
        "id" : "62"
      }, {
        "id" : "63"
      }, {
        "id" : "64"
      }, {
        "id" : "65"
      }, {
        "id" : "66"
      }, {
        "id" : "67"
      }, {
        "id" : "68"
      }, {
        "id" : "69"
      }, {
        "id" : "70"
      }, {
        "id" : "94"
      } ]
    }, {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 150,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "containerId" : "71",
      "description" : "Component Diagram (C3): MCP Agent Servers - all [Shared] between backends",
      "elements" : [ {
        "id" : "14",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "72",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "73",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "74",
        "x" : 0,
        "y" : 0
      } ],
      "externalContainerBoundariesVisible" : false,
      "key" : "C3_MCP_Components",
      "order" : 6,
      "relationships" : [ {
        "id" : "109"
      }, {
        "id" : "110"
      }, {
        "id" : "111"
      } ]
    } ],
    "configuration" : {
      "branding" : { },
      "lastSavedView" : "C3_HAI_Components",
      "metadataSymbols" : "SquareBrackets",
      "styles" : {
        "elements" : [ {
          "background" : "#08427b",
          "color" : "#ffffff",
          "shape" : "Person",
          "tag" : "Person"
        }, {
          "background" : "#1168bd",
          "color" : "#ffffff",
          "tag" : "Software System"
        }, {
          "background" : "#999999",
          "color" : "#ffffff",
          "tag" : "External"
        }, {
          "background" : "#1168bd",
          "color" : "#ffffff",
          "tag" : "Extensible"
        }, {
          "background" : "#438dd5",
          "color" : "#ffffff",
          "tag" : "Container"
        }, {
          "background" : "#438dd5",
          "color" : "#ffffff",
          "shape" : "WebBrowser",
          "tag" : "Frontend"
        }, {
          "background" : "#438dd5",
          "color" : "#ffffff",
          "shape" : "Hexagon",
          "tag" : "Backend"
        }, {
          "background" : "#438dd5",
          "color" : "#ffffff",
          "shape" : "Cylinder",
          "tag" : "Database"
        }, {
          "background" : "#438dd5",
          "border" : "Dashed",
          "color" : "#ffffff",
          "shape" : "RoundedBox",
          "tag" : "Observability"
        }, {
          "background" : "#438dd5",
          "border" : "Dashed",
          "color" : "#ffffff",
          "shape" : "RoundedBox",
          "tag" : "Security"
        }, {
          "background" : "#85bbf0",
          "color" : "#000000",
          "tag" : "Component"
        }, {
          "background" : "#85bbf0",
          "color" : "#000000",
          "tag" : "Shared"
        }, {
          "background" : "#74aa9c",
          "color" : "#000000",
          "tag" : "OpenAI"
        }, {
          "background" : "#ff9966",
          "color" : "#000000",
          "tag" : "OpenSource"
        }, {
          "background" : "#ffcccc",
          "border" : "Dashed",
          "color" : "#990000",
          "opacity" : 70,
          "tag" : "NotImplemented"
        } ],
        "relationships" : [ {
          "routing" : "Direct",
          "tag" : "Relationship",
          "thickness" : 2
        } ]
      },
      "terminology" : { },
      "themes" : [ "https://static.structurizr.com/themes/default/theme.json" ]
    },
    "containerViews" : [ {
      "automaticLayout" : {
        "applied" : true,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 200,
        "rankDirection" : "TopBottom",
        "rankSeparation" : 350,
        "vertices" : false
      },
      "description" : "Container Diagram (C2): HAI → Orchestrator [OpenAI/OpenSource] → MCP Agent Servers (+ future services)",
      "dimensions" : {
        "height" : 2200,
        "width" : 2840
      },
      "elements" : [ {
        "id" : "3",
        "x" : 2169,
        "y" : 172
      }, {
        "id" : "14",
        "x" : 1844,
        "y" : 822
      }, {
        "id" : "71",
        "x" : 869,
        "y" : 1472
      }, {
        "id" : "75",
        "x" : 1519,
        "y" : 172
      }, {
        "id" : "76",
        "x" : 869,
        "y" : 172
      }, {
        "id" : "77",
        "x" : 1519,
        "y" : 1472
      }, {
        "id" : "78",
        "x" : 2169,
        "y" : 1472
      }, {
        "id" : "79",
        "x" : 219,
        "y" : 172
      } ],
      "externalSoftwareSystemBoundariesVisible" : false,
      "key" : "C2_Containers",
      "order" : 2,
      "relationships" : [ {
        "id" : "80"
      }, {
        "id" : "81"
      }, {
        "id" : "82"
      }, {
        "id" : "83"
      } ],
      "softwareSystemId" : "2"
    } ],
    "systemContextViews" : [ {
      "automaticLayout" : {
        "applied" : true,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 200,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 400,
        "vertices" : false
      },
      "description" : "System Context (C1): Inspector → AGORA → MCP Agent Ecosystem",
      "dimensions" : {
        "height" : 800,
        "width" : 2500
      },
      "elements" : [ {
        "id" : "1",
        "x" : 199,
        "y" : 151
      }, {
        "id" : "2",
        "x" : 999,
        "y" : 201
      }, {
        "id" : "112",
        "x" : 1849,
        "y" : 201
      } ],
      "enterpriseBoundaryVisible" : true,
      "key" : "C1_SystemContext",
      "order" : 1,
      "relationships" : [ {
        "id" : "113"
      }, {
        "id" : "114"
      } ],
      "softwareSystemId" : "2"
    } ]
  }
}